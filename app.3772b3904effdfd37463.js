webpackJsonp([0],{0:function(e,t,n){"use strict";var a=n(1),o=n(3),s=n(23);n(302),n(305),n(307),n(315),o.enableProdMode(),a.platformBrowserDynamic().bootstrapModule(s.AppModule)},23:function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(3),r=n(21),i=n(24),c=n(28),l=n(29),d=n(139),p=n(144),u=n(146),f=n(260),m=n(298),b=n(272),v=n(300),h=function(){function AppModule(){}return AppModule=a([s.NgModule({imports:[r.BrowserModule,i.FormsModule,c.HttpModule,l.Ng2BootstrapModule,f.routing],declarations:[d.AppComponent,u.ResultDetailComponent,b.DashboardHomeComponent,b.DashboardWaterbudgetComponent,m.NavigationComponent,u.SearchComponent,v.Ol3MapComponent],providers:[p.ResultService],bootstrap:[d.AppComponent]}),o("design:paramtypes",[])],AppModule)}();t.AppModule=h},139:function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(3),r=function(){function AppComponent(){this.title="Groundwater Hub"}return AppComponent=a([s.Component({selector:"sac-gwh-app",template:n(140),styles:[n(141)]}),o("design:paramtypes",[])],AppComponent)}();t.AppComponent=r},140:function(e,t){e.exports="<!-- Static navbar -->\n\n<sac-gwh-navigation></sac-gwh-navigation>\n\n<router-outlet></router-outlet>\n"},141:function(e,t,n){var a=n(142);"string"==typeof a?e.exports=a:e.exports=a.toString()},142:function(e,t,n){t=e.exports=n(143)(),t.push([e.id,"",""])},144:function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(3),r=n(28);n(145);var i=function(){function ResultService(e){this.http=e,this.url="http://dev.smart-project.info/cswi-api/query"}return ResultService.prototype.getResults=function(e,t,n,a){var o=new r.URLSearchParams;return o.set("query",e),o.set("fromDate",t),o.set("toDate",n),o.set("bbox",a),this.http.get(this.url,{search:o}).toPromise().then(function(e){return e.json()}).catch(this.handleError)},ResultService.prototype.handleError=function(e){return console.error("An error occurred",e),Promise.reject(e.message||e)},ResultService=a([s.Injectable(),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Http&&r.Http)&&e||Object])],ResultService);var e}();t.ResultService=i},146:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(147)),__export(n(257))},147:function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(3),r=n(144),i=n(148),c=function(){function SearchComponent(e){this.resultService=e,this.search={query:"*:*",fromDate:i("1970-01-01","YYYY-MM-DD").toDate(),toDate:new Date,bboxWkt:""}}return SearchComponent.prototype.ngOnInit=function(){this.results={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[]}},SearchComponent.prototype.onSelect=function(e){this.selectedResult=e},SearchComponent.prototype.getResults=function(){var e=this;this.resultService.getResults(this.search.query,i(this.search.fromDate).format("YYYY-MM-DD"),i(this.search.toDate).format("YYYY-MM-DD"),this.search.bboxWkt).then(function(t){return e.results=t})},SearchComponent.prototype.bboxChanged=function(e){console.log("bbox changed to '"+e+"'"),this.search.bboxWkt=e},SearchComponent=a([s.Component({selector:"sac-gwh-home",template:n(254),styles:[n(255)]}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ResultService&&r.ResultService)&&e||Object])],SearchComponent);var e}();t.SearchComponent=c;var l=function(){function Search(){}return Search}();t.Search=l},254:function(e,t){e.exports='<div class="jumbotron">\n  <h1>Search</h1>\n  <p>WOW! Search Form!!</p>\n</div>\n\n<div class="row">\n  <div class="col-md-9">\n    <div class="panel panel-default">\n      <div class="panel-heading">map</div>\n      <div class="panel-body" style="padding:0">\n        <sac-gwh-ol3-map (onBboxChange)="bboxChanged($event)" [searchResults]="results"></sac-gwh-ol3-map>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-3">\n    <div class="panel panel-default">\n      <div class="panel-heading">Search query</div>\n      <div class="panel-body">\n        <div class="form-group">\n          <label for="search.query">query</label>\n          <input [(ngModel)]="search.query" placeholder="search query" id="search.query"\n                 [ngModelOptions]="{standalone: true}"\n                 class="form-control"/>\n        </div>\n\n        <div class="form-group">\n          <label for="search.date.from">date from</label>\n          <div class="input-group" dropdown autoClose="outsideClick">\n            <input type="text" class="form-control" placeholder="{{search.fromDate}}" id="search.date.from" disabled>\n            <span class="input-group-btn">\n              <button class="btn btn-default" type="button" dropdownToggle><i class="fa fa-calendar"></i></button>\n            </span>\n            <div class="dropdown-menu datepicker-dropdown" dropdownMenu aria-labelledby="split-button">\n              <div style="display:inline-block;" class="collapse">\n                <datepicker [(ngModel)]="search.fromDate" [showWeeks]="true" [maxDate]="search.toDate"\n                            [ngModelOptions]="{standalone: true}"></datepicker>\n              </div>\n            </div>\n          </div><!-- /input-group -->\n        </div> <!-- /form-group -->\n        <div class="form-group">\n          <label for="search.date.to">date to</label>\n          <div class="input-group" dropdown autoClose="outsideClick">\n            <input type="text" class="form-control" placeholder="{{search.toDate}}" id="search.date.to" disabled>\n            <span class="input-group-btn">\n              <button class="btn btn-default" type="button" dropdownToggle><i class="fa fa-calendar"></i></button>\n            </span>\n            <div class="dropdown-menu datepicker-dropdown" dropdownMenu aria-labelledby="split-button">\n              <div style="display:inline-block;" class="collapse">\n                <datepicker [(ngModel)]="search.toDate" [showWeeks]="true" [minDate]="search.fromDate"\n                            [ngModelOptions]="{standalone: true}"></datepicker>\n              </div>\n            </div>\n          </div>\n        </div> <!-- /form-group -->\n        <div class="form-group">\n          <label for="search.bboxwkt">bboxWkt</label>\n          <input [(ngModel)]="search.bboxWkt" placeholder="ENVELOPE(-180,180,90,-90)" id="search.bboxwkt"\n                 [ngModelOptions]="{standalone: true}"\n                 class="form-control"\n                 disabled/>\n        </div>\n        <button (click)="getResults()" type="button" class="btn btn-default">search</button>\n      </div>\n    </div>\n\n\n    <div class="panel panel-default">\n      <div class="panel-heading">Search Results - {{results.features.length}}</div>\n      <div class="panel-body">\n        <div class="list-group">\n          <a *ngFor="let feature of results.features"\n             class="list-group-item"\n             [class.active]="feature===selectedResult"\n             (click)="onSelect(feature)">\n            <span class="badge">{{feature.properties.fileIdentifier}}</span> {{feature.properties.title}}\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<my-result-detail [result]="selectedResult"></my-result-detail>\n'},255:function(e,t,n){var a=n(256);"string"==typeof a?e.exports=a:e.exports=a.toString()},256:function(e,t,n){t=e.exports=n(143)(),t.push([e.id,".datepicker-dropdown{padding:0}",""])},257:function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(3),r=n(258),i=function(){function ResultDetailComponent(){}return a([s.Input(),o("design:type","function"==typeof(e="undefined"!=typeof r.IGeoFeature&&r.IGeoFeature)&&e||Object)],ResultDetailComponent.prototype,"result",void 0),ResultDetailComponent=a([s.Component({selector:"my-result-detail",template:n(259)}),o("design:paramtypes",[])],ResultDetailComponent);var e}();t.ResultDetailComponent=i},258:function(e,t){"use strict";var n=function(){function Result(){}return Result}();t.Result=n},259:function(e,t){e.exports='<div *ngIf="result" class="panel panel-default">\n  <div class="panel-heading">Details for {{result.properties.fileIdentifier}}</div>\n  <div class="panel-body">\n        <div><label>title: </label><span>{{result.properties.title}}</span></div>\n        <div><label>abstract: </label><p>{{result.properties.abstrakt}}</p></div>\n  </div>\n</div>\n\n'},260:function(e,t,n){"use strict";var a=n(261),o=n(272),s=n(146),r=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:o.DashboardHomeComponent},{path:"waterbudget",component:o.DashboardWaterbudgetComponent},{path:"search",component:s.SearchComponent}];t.routing=a.RouterModule.forRoot(r)},272:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(273)),__export(n(286))},273:function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(3),r=function(){function DashboardHomeComponent(){}return DashboardHomeComponent=a([s.Component({selector:"sac-gwh-dashboard-home",template:n(274),styles:[n(283)]}),o("design:paramtypes",[])],DashboardHomeComponent)}();t.DashboardHomeComponent=r},274:function(e,t,n){e.exports='<div class="jumbotron">\n  <p>Welcome to SAC groundwater hub</p>\n</div>\n\n<div class="slide01">\n  <div class="row">\n    <div class="col-md-4">&nbsp;</div>\n    <div class="col-md-2"><a class="thumbnail disabled" tooltip="Maps &amp; spatial Datasets"><img src="'+n(275)+'"></a></div>\n    <div class="col-md-2"><a class="thumbnail disabled" tooltip="Climate" ><img src="'+n(276)+'"></a></div>\n    <div class="col-md-4">&nbsp;</div>\n  </div>\n  <div class="row">\n    <div class="col-md-2"><a class="thumbnail disabled" tooltip="Groundwater &amp; rivers"><img src="'+n(277)+'"></a></div>\n    <div class="col-md-8">&nbsp;</div>\n    <div class="col-md-2"><a class="thumbnail disabled" tooltip="Policies"><img src="'+n(278)+'"></a></div>\n  </div>\n  <div class="row">\n    <div class="col-md-2"><a class="thumbnail disabled" tooltip="Groundwater Age"><img src="'+n(279)+'"></a></div>\n    <div class="col-md-8">&nbsp;</div>\n    <div class="col-md-2"><a routerLink="/waterbudget" class="thumbnail" tooltip="Water Budget"><img src="'+n(280)+'"></a></div>\n  </div>\n  <div class="row">\n    <div class="col-md-2">&nbsp;</div>\n    <div class="col-md-2"><a class="thumbnail disabled" tooltip="Geological models"><img src="'+n(281)+'"></a></div>\n    <div class="col-md-4">&nbsp;</div>\n    <div class="col-md-2"><a class="thumbnail disabled" tooltip="Groundwater chemistry"><img src="'+n(282)+'"></a></div>\n    <div class="col-md-2">&nbsp;</div>\n  </div>\n</div>\n'},275:function(e,t,n){e.exports=n.p+"assets/1-maps.ca31131be5b0f7005dbcc6218b57239d.jpg"},276:function(e,t,n){e.exports=n.p+"assets/2-climate.596e4cd80762b413b8c6759147a6c346.jpg"},277:function(e,t,n){e.exports=n.p+"assets/8-gw-sw-inter-rivers.0d8763138219ce94e9fccf20240e076f.jpg"},278:function(e,t,n){e.exports=n.p+"assets/3-policy.f21d126062f4e0e23a59ee551ce273cf.jpg"},279:function(e,t,n){e.exports=n.p+"assets/7-gw-age.0be34faf8f2756e45c477c8c8cae4774.jpg"},280:function(e,t,n){e.exports=n.p+"assets/4-water-budget.1f51f60ed488d81cf0513ea01b62f11d.jpg"},281:function(e,t,n){e.exports=n.p+"assets/6-geol-models.ee060462f6bf05d03d9e214a78ef7c5e.jpg"},282:function(e,t,n){e.exports=n.p+"assets/5-gw-chemistry.9683501d96dd5b28c24189a48f1f33f4.jpg"},283:function(e,t,n){var a=n(284);"string"==typeof a?e.exports=a:e.exports=a.toString()},284:function(e,t,n){t=e.exports=n(143)(),t.push([e.id,".thumbnail>img{height:130px}.thumbnail.disabled>img{-webkit-filter:grayscale(100%);filter:grayscale(100%)}@media (min-width:992px){.slide01{background:url("+n(285)+") 50% no-repeat;background-size:cover}}",""])},285:function(e,t,n){e.exports=n.p+"assets/slide01-gw.b9b97b5c6f799afc7e5508fae0de1cb6.jpg"},286:function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(3),r=function(){function DashboardWaterbudgetComponent(){}return DashboardWaterbudgetComponent=a([s.Component({selector:"sac-gwh-dashboard-waterbudget",template:n(287),styles:[n(295)]}),o("design:paramtypes",[])],DashboardWaterbudgetComponent)}();t.DashboardWaterbudgetComponent=r},287:function(e,t,n){e.exports='<div class="jumbotron">\n  <p>Read more about waterbudget</p>\n</div>\n<div class="slide02">\n  <div class="row">\n    <div class="col-md-2"><a routerLink="/home" class="thumbnail"><i class="fa fa-arrow-left" aria-hidden="true"></i><img src="'+n(285)+'"></a></div>\n    <div class="col-md-2">&nbsp;</div>\n    <div class="col-md-2"><a class="thumbnail disabled"><img src="'+n(288)+'"></a></div>\n    <div class="col-md-2"><a class="thumbnail disabled"><img src="'+n(289)+'"></a></div>\n    <div class="col-md-4">&nbsp;</div>\n  </div>\n  <div class="row">\n    <div class="col-md-10">&nbsp;</div>\n    <div class="col-md-2"><a class="thumbnail disabled"><img src="'+n(290)+'"></a></div>\n  </div>\n  <div class="row">\n    <div class="col-md-2"><a class="thumbnail disabled"><img src="'+n(291)+'"></a></div>\n    <div class="col-md-8">&nbsp;</div>\n    <div class="col-md-2"><a class="thumbnail disabled"><img src="'+n(292)+'"></a></div>\n  </div>\n  <div class="row">\n    <div class="col-md-2">&nbsp;</div>\n    <div class="col-md-2"><a class="thumbnail disabled"><img src="'+n(293)+'"></a></div>\n    <div class="col-md-4">&nbsp;</div>\n    <div class="col-md-2"><a class="thumbnail disabled"><img src="'+n(294)+'"></a></div>\n    <div class="col-md-2">&nbsp;</div>\n  </div>\n</div>\n'},288:function(e,t,n){e.exports=n.p+"assets/2-1-gw-inflow.94ef600aace3f0fab3205de899183f6c.jpg"},289:function(e,t,n){e.exports=n.p+"assets/2-2-recharge.ea7bfb479d2e6b5daf8d8919d10b4ee2.jpg"},290:function(e,t,n){e.exports=n.p+"assets/2-3-gw-lakes.74bd86589559268286a8b34a0bab5410.jpg"},291:function(e,t,n){e.exports=n.p+"assets/2-7-gw-interaction.4cd5bae70795520ec16813e24ec2ed57.jpg"},292:function(e,t,n){e.exports=n.p+"assets/2-4-gw-models.6e4dfc41b8105165200003311a6adc4a.jpg"},293:function(e,t,n){e.exports=n.p+"assets/2-6-gw-use.ad113fe4c30a9e05cafc15f7decc5fc6.jpg"},294:function(e,t,n){e.exports=n.p+"assets/2-5-discharge-sea.ccae7dff41522f97471653a2e435306c.jpg"},295:function(e,t,n){var a=n(296);"string"==typeof a?e.exports=a:e.exports=a.toString()},296:function(e,t,n){t=e.exports=n(143)(),t.push([e.id,".thumbnail>img{height:130px}.thumbnail.disabled>img{-webkit-filter:grayscale(100%);filter:grayscale(100%)}@media (min-width:992px){.slide02{background:url("+n(297)+") center 30% no-repeat;background-size:cover}}",""])},297:function(e,t,n){e.exports=n.p+"assets/slide02-gw.a7c48594d9b05448d1a8d7d38b2275d6.jpg"},298:function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(3),r=function(){function NavigationComponent(){}return NavigationComponent=a([s.Component({selector:"sac-gwh-navigation",template:n(299)}),o("design:paramtypes",[])],NavigationComponent)}();t.NavigationComponent=r},299:function(e,t){e.exports='<nav class="navbar navbar-default">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"\n              aria-expanded="false" aria-controls="navbar">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a class="navbar-brand" href="#">SAC GROUNDWATER HUB</a>\n    </div>\n    <div id="navbar" class="navbar-collapse collapse">\n      <ul class="nav navbar-nav">\n        <li routerLinkActive="active"><a routerLink="/home"><span class="fa fa-home"></span></a></li>\n        <li routerLinkActive="active"><a routerLink="/waterbudget">waterbudget</a></li>\n      </ul>\n      <ul class="nav navbar-nav navbar-right">\n        <li routerLinkActive="active"><a routerLink="/search"><i class="fa fa-search"></i></a></li>\n\n        <li dropdown>\n          <a dropdownToggle><span class="fa-stack">\n                              <i class="fa fa-circle fa-stack-2x" style="color:#EEEEEE"></i>\n                              <i class="fa fa-ellipsis-v fa-stack-1x"></i>\n                          </span>\n          </a>\n          <ul class="dropdown-menu" dropdownMenu>\n            <li role="menuitem"><a class="dropdown-item">Login</a></li>\n            <li role="menuitem"><a class="dropdown-item">About</a></li>\n          </ul>\n        </li>\n      </ul>\n    </div><!--/.nav-collapse -->\n</nav>\n'},300:function(e,t,n){"use strict";var a=this&&this.__decorate||function(e,t,n,a){var o,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(3),r=n(301),i=function(){function Ol3MapComponent(){this.vectorSource=new r.source.Vector({}),this.onBboxChange=new s.EventEmitter,this.center=[174.7633,36.8485],this.defaultExtent=[-180,-90,180,90]}return Object.defineProperty(Ol3MapComponent.prototype,"searchResults",{set:function(e){e&&0!==e.length&&(this.vectorSource.clear(),this.vectorSource.addFeatures((new r.format.GeoJSON).readFeatures(e)))},enumerable:!0,configurable:!0}),Ol3MapComponent.prototype.ngOnInit=function(){var e=new r.layer.Vector({source:this.vectorSource,style:new r.style.Style({stroke:new r.style.Stroke({color:"blue",lineDash:[4],width:3}),fill:new r.style.Fill({color:"rgba(0, 0, 255, 0.1)"})})});this.map=new r.Map({controls:r.control.defaults({attributionOptions:{collapsible:!1}}).extend([new r.control.ZoomToExtent({extent:this.defaultExtent})]),layers:[new r.layer.Tile({source:new r.source.OSM}),e],target:"map",view:new r.View({projection:"EPSG:4326",center:this.center,zoom:5})}),this.map.getView().fit(this.defaultExtent,this.map.getSize()),this.map.on("moveend",this.onMoveend,this)},Ol3MapComponent.prototype.getBboxWkt=function(){if(this.map){var e=this.map.getView().calculateExtent(this.map.getSize());return Math.abs(e[0]-e[2])>=360?(e[0]=-180,e[2]=180):((e[0]<-180||e[0]>180)&&(e[0]=180*Math.sign(e[0])),(e[2]<-180||e[2]>180)&&(e[2]=180*Math.sign(e[2]))),(e[1]<-90||e[1]>90)&&(e[1]=90*Math.sign(e[1])),(e[3]<-90||e[3]>90)&&(e[3]=90*Math.sign(e[3])),"ENVELOPE("+e[0]+","+e[2]+","+e[3]+","+e[1]+")"}return"ENVELOPE(-180,180,90,-90)"},Ol3MapComponent.prototype.onMoveend=function(){console.log("moveend");var e=this.getBboxWkt();console.log(""+e),this.onBboxChange.emit(e)},a([s.Output(),o("design:type",Object)],Ol3MapComponent.prototype,"onBboxChange",void 0),a([s.Input(),o("design:type",Array),o("design:paramtypes",[Array])],Ol3MapComponent.prototype,"searchResults",null),Ol3MapComponent=a([s.Component({selector:"sac-gwh-ol3-map",template:'<div id="map" class="map"></div>'}),o("design:paramtypes",[])],Ol3MapComponent)}();t.Ol3MapComponent=i}});
//# sourceMappingURL=app.3772b3904effdfd37463.js.map