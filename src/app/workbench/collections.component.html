<div class="row">
  <div class="col-md-5">
    <div class="panel panel-default" *ngIf="myCollection">
      <div class="panel-heading">My documents <a routerLink="/workbench/my-data"
                                                 tooltip="Refresh My Documents collection">
        Reload <i class="fa fa-repeat"
                                 aria-hidden="true"></i></a></div>
      <div class="panel-body">
        <accordion>
          <accordion-group #defaultGroup>
            <div accordion-heading>
              {{ myCollection.properties.title }}
              <i class="pull-right float-xs-right glyphicon"
                 [ngClass]="{'glyphicon-chevron-down': defaultGroup?.isOpen, 'glyphicon-chevron-right': !defaultGroup?.isOpen}"></i>
            </div>

            <accordion-group #propertiesGroup>
              <div accordion-heading>
                <span><i class="fa fa-search-plus"></i></span> Properties
                <i class="pull-right float-xs-right glyphicon"
                   [ngClass]="{'glyphicon-chevron-down': propertiesGroup?.isOpen, 'glyphicon-chevron-right': !propertiesGroup?.isOpen}"></i>
              </div>

              <ul class="list-group">
                <li class="list-group-item">
                  <span class="badge pull-left">Collection ID:</span>&nbsp;{{ myCollection.id }}
                </li>
                <li class="list-group-item"  *ngIf="myCollection.properties.lang">
                  <span class="badge pull-left">Preferred Language:</span>&nbsp;{{ myCollection.properties.lang }}
                </li>
                <li class="list-group-item"  *ngIf="myCollection.properties.subtitle">
                  <span class="badge pull-left">Abstract:</span>&nbsp;
                  <div class="list-group-item">{{ myCollection.properties.subtitle }}</div>
                </li>
                <li class="list-group-item"  *ngIf="myCollection.properties.authors">
                  <span class="badge pull-left">Authored by:</span>&nbsp;
                  <div class="list-group-item" *ngFor="let owcAuthor of myCollection.properties.authors">
                    {{ owcAuthor.name ? 'Name: ' + owcAuthor.name + ',' : '' }}
                    {{ owcAuthor.email ? 'Email: ' + owcAuthor.email + ',' : '' }}
                    {{ owcAuthor.uri ? 'Link: '  +owcAuthor.uri + ',' : '' }}
                  </div>
                </li>
                <li class="list-group-item"  *ngIf="myCollection.properties.rights">
                  <span class="badge pull-left">License:</span>&nbsp;
                  <div class="list-group-item">{{ myCollection.properties.rights }}</div>
                </li>
                <li class="list-group-item"  *ngIf="myCollection.properties.generator">
                  <span class="badge  pull-left">Generated by:</span>&nbsp;{{ myCollection.properties.generator }}
                </li>
                <li class="list-group-item"  *ngIf="myCollection.properties.categories">
                  <span class="badge  pull-left">Tagged Categories:</span>&nbsp;
                  <div class="list-group-item" *ngFor="let owcCategory of myCollection.properties.categories">
                    {{ owcCategory.term ? 'Term: '  +owcCategory.term + ',' : '' }}
                    {{ owcCategory.label ? 'Label: ' + owcCategory.label + ',' : '' }}
                    {{ owcCategory.scheme ? 'Scheme: ' + owcCategory.scheme + ',' : '' }}
                  </div>
                </li>
                <li class="list-group-item"  *ngIf="(myCollection.properties.contributors && (myCollection.properties.contributors.length >0 ))">
                  <span class="badge  pull-left">Contributors:</span>&nbsp;
                  <div class="list-group-item" *ngFor="let owcAuthor of myCollection.properties.contributors">
                    {{ owcAuthor.name ? 'Name: ' + owcAuthor.name + ',' : '' }}
                    {{ owcAuthor.email ? 'Email: ' + owcAuthor.email + ',' : '' }}
                    {{ owcAuthor.uri ? 'Link: '  +owcAuthor.uri + ',' : '' }}
                  </div>
                </li>
                <li class="list-group-item"  *ngIf="(myCollection.properties.links && (myCollection.properties.links.length > 0))">
                  <span class="badge pull-left">Related Links:</span>&nbsp;
                  <div class="list-group-item" *ngFor="let owcLink of myCollection.properties.links">
                    {{ owcLink.title ? 'Title: ' + owcLink.title + ',' : '' }}
                    {{ owcLink.rel ? 'Relation: ' + owcLink.rel + ',' : '' }}
                    {{ owcLink.type ? 'Type: ' + owcLink.type + ',' : '' }}
                    <a *ngIf="owcLink.href" [href]="owcLink.href" target="_blank"> Link: <i class="fa fa-download"></i></a>
                  </div>
                </li>
              </ul>

            </accordion-group>

            <accordion-group #featuresGroup>
              <div accordion-heading>
                <span class="badge">{{ myCollection.features.length }}</span>
                Entries
                <i class="pull-right float-xs-right glyphicon"
                   [ngClass]="{'glyphicon-chevron-down': featuresGroup?.isOpen, 'glyphicon-chevron-right': !featuresGroup?.isOpen}"></i>
              </div>

              <div class="list-group" *ngIf="myCollection.features.length > 0">
                <li class="list-group-item" *ngFor="let owcEntry of myCollection.features">
                  <a (click)="owcEntryDetailModalRef.showOwcEntryModal(owcEntry)">
                    {{ owcEntry.properties.title }} </a>
                </li>
              </div>

            </accordion-group>
          </accordion-group>
        </accordion>
      </div>


    </div>
    <!-- here possibly more collections -->
  </div>
</div>

<app-sac-gwh-owcentry-detail-modal #owcEntryDetailModalRef>

</app-sac-gwh-owcentry-detail-modal>
